name: update
on entry: |
  view.update_display_time()
initial: update_sec
transitions:
  - target: time
    event: b_pressed
states:
  - name: update_sec
    on entry: view.update_disp_select("sec")
    transitions:
      - target: update_min
        event: c_pressed
      - event: d_pressed
        action: |
          model.increment_sec("current")
          view.update_display_time()
  - name: update_min
    on entry: view.update_disp_select("min")
    transitions:
      - target: update_hour
        event: c_pressed
      - event: d_pressed
        action: |
          model.increment_min("current")
          view.update_display_time()
  - name: update_hour
    on entry: view.update_disp_select("hour")
    transitions:
      - target: update_mon
        event: c_pressed
      - event: d_pressed
        action: |
          model.increment_hour("current")
          view.update_display_time()
  - name: update_mon
    on entry: |
      view.update_disp_select("hour")
      view.update_display_date()
    transitions:
      - target: update_day
        event: c_pressed
      - event: d_pressed
        action: |
          model.increment_month("current")
          view.update_display_date()
  - name: update_day
    on entry: view.update_disp_select("min")
    transitions:
      - target: update_year
        event: c_pressed
      - event: d_pressed
        action: |
          model.increment_day("current")
          view.update_display_date()
  - name: update_year
    on entry: view.update_disp_select("sec")
    transitions:
      - target: update_mode
        event: c_pressed
      - event: d_pressed
        action: |
          model.increment_year("current")
          view.update_display_date()
  - name: update_mode
    on entry: |
      view.update_disp_select("am_pm")
      view.update_display_time()
    transitions:
      - target: time
        event: c_pressed
      - event: d_pressed
        action: |
          model.toggle_mode()
          view.update_display_time()